global myitoa
    section .text


myitoa:
    push ebp
    mov ebp, esp

    push ebx 
    push ecx
    push edx

    mov ebx, [ebp + 8]
    mov ecx, [ebp + 12]
    mov edx, [ebp + 16]

    mov eax, 0
    mov esi, 0

    cmp ebx, 0
    jge myitoa_positive

    mov [edx], '-'
    inc edx
    inc esi
    neg ebx

myitoa_positive:
    mov [edx], '0'
    inc edx
    inc esi

    mov eax, ebx
    mov ebx, 10
    div ebx

    cmp eax, 0
    je myitoa_end

    push eax
    push edx
    push esi
    call myitoa
    pop esi
    pop edx
    pop eax

    mov ebx, 10
    mov ecx, eax
    mov eax, ebx
    mul ecx
    sub ebx, eax

    add ebx, '0'
    mov [edx], bl
    inc edx
    inc esi

    jmp myitoa_positive

myitoa_end:
    mov [edx], 0

    pop edx
    pop ecx
    pop ebx

    mov esp, ebp
    pop ebp
    ret
